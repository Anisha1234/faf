{% extends "base.html" %}
{% load custom_filters %}

{% block title %}Hot problems{% endblock %}

{% block content %}
{% include "filter_form.html" %}
<br/>

<table class="table table-striped table-bordered">
  <tr>
    <th>#</th>
    <th>Signature</th>
    <th>Component</th>
    <th>Count</th>
    <th>State</th>
    <th>External links</th>
  </tr>
  {% for problem in problems.object_list %}
    <tr>
      <td>{{ forloop.counter }}</td>
      <td>
        <a href={% url pyfaf.hub.problems.views.summary problem.id %}>
          {{ problem.id }}
        </a>
      </td>
      <td>
        {% for name in problem.unique_component_names %}
          {{ name }}
          {% if not forloop.last %}
            ,
          {% endif %}
        {% endfor %}
      </td>
      <td>{{ problem.count }}</td>
      <td>
        <span class="label label-{{ problem.status|problem_label }}">
          {{ problem.status }}
        </span>
      </td>
      <td>
        {% with problem.bugs as bugs %}
          {% include "external_links.html" %}
        {% endwith %}
      </td>
    </tr>
  {% endfor %}
</table>

  {% with problems as paginated %}
    {% include "paginator.html" %}
  {% endwith %}
{% endblock %}
